\hypertarget{classInputSegment}{}\section{Input\+Segment Class Reference}
\label{classInputSegment}\index{InputSegment@{InputSegment}}


intermediate representation for input performance data (sequence of timestamped events).  




{\ttfamily \#include $<$Input\+Segment.\+hpp$>$}

Inheritance diagram for Input\+Segment\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=2.000000cm]{classInputSegment}
\end{center}
\end{figure}
\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{group__segment_gaec471ec05052a932b1bb2738bfc8b172}{Input\+Segment}} (double b=0, double e=0)
\begin{DoxyCompactList}\small\item\em constructs an empty input segment (no events) \end{DoxyCompactList}\item 
{\bfseries Input\+Segment} (const \mbox{\hyperlink{classInputSegment}{Input\+Segment}} \&)
\item 
\mbox{\hyperlink{group__segment_ga58d6af0b8186068f4bc26f58e6e62eef}{Input\+Segment}} (const \mbox{\hyperlink{classInputSegment}{Input\+Segment}} \&s, double b, double e)
\begin{DoxyCompactList}\small\item\em copy and resize. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classInputSegment_a78b3f9b3b422ee5f92ba14056a76ccff}\label{classInputSegment_a78b3f9b3b422ee5f92ba14056a76ccff}} 
double \mbox{\hyperlink{classInputSegment_a78b3f9b3b422ee5f92ba14056a76ccff}{rbegin}} () const
\begin{DoxyCompactList}\small\item\em real-\/time start date (in seconds) of segment. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classInputSegment_ad81105da6beb534a48a59d9219476732}\label{classInputSegment_ad81105da6beb534a48a59d9219476732}} 
double \mbox{\hyperlink{classInputSegment_ad81105da6beb534a48a59d9219476732}{rend}} () const
\begin{DoxyCompactList}\small\item\em real-\/time end date (in seconds) of segment. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classInputSegment_a590310d241cec28ac9b03b6a6708489b}\label{classInputSegment_a590310d241cec28ac9b03b6a6708489b}} 
double \mbox{\hyperlink{classInputSegment_a590310d241cec28ac9b03b6a6708489b}{rduration}} () const
\begin{DoxyCompactList}\small\item\em real-\/time total duration (in seconds) of segment. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classRational}{Rational}} \mbox{\hyperlink{classInputSegment_aa5410aeef3d5c6a263424b252eb78511}{mduration}} () const
\begin{DoxyCompactList}\small\item\em musical total duration (in bars) of segment. \end{DoxyCompactList}\item 
size\+\_\+t \mbox{\hyperlink{group__segment_ga05fee2bd8565c3076a6d800e37d7ab63}{size}} () const
\begin{DoxyCompactList}\small\item\em number of non-\/floating points in segment. \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{classMusPoint}{Mus\+Point}} $>$\+::iterator \mbox{\hyperlink{group__segment_gaccf3b9127fc3d068a95af19f46d9052d}{begin}} ()
\begin{DoxyCompactList}\small\item\em iterators to the segment\textquotesingle{}s contents. \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{classMusPoint}{Mus\+Point}} $>$\+::iterator {\bfseries end} ()
\item 
std\+::vector$<$ \mbox{\hyperlink{classMusPoint}{Mus\+Point}} $>$\+::const\+\_\+iterator {\bfseries cbegin} () const
\item 
std\+::vector$<$ \mbox{\hyperlink{classMusPoint}{Mus\+Point}} $>$\+::const\+\_\+iterator {\bfseries cend} () const
\item 
const \mbox{\hyperlink{classMusPoint}{Mus\+Point}} \& \mbox{\hyperlink{group__segment_ga5463f900db31be4b7d109e88a710971f}{point}} (long i) const
\begin{DoxyCompactList}\small\item\em return a ref to the point of index i. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classMusEvent}{Mus\+Event}} $\ast$ \mbox{\hyperlink{group__segment_gafaa215f8df4e03b3e22c4c5eb3e494ca}{event}} (long i) const
\begin{DoxyCompactList}\small\item\em return the event of the point of index i. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{group__segment_ga7c26187b3e70ea62bd10b9b15284a99a}{rdate}} (long i) const
\begin{DoxyCompactList}\small\item\em return the real-\/time date (in seconds) of the point of index i \end{DoxyCompactList}\item 
double \mbox{\hyperlink{group__segment_gafbf05e143d416de49180d2f18a53977b}{rduration}} (long i) const
\begin{DoxyCompactList}\small\item\em return the real-\/time duration (in seconds) of the point of index i. \end{DoxyCompactList}\item 
double \mbox{\hyperlink{group__segment_ga5ce66f635c2ab912e0ec9662c5c2ceaf}{rduration}} (const \mbox{\hyperlink{classMusPoint}{Mus\+Point}} \&p) const
\begin{DoxyCompactList}\small\item\em return the real-\/time duration (in seconds) of the given point. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classRational}{Rational}} \& \mbox{\hyperlink{group__segment_ga6fce03f54fe517cc9541ea446cd26a50}{mdate}} (long i)
\begin{DoxyCompactList}\small\item\em return a reference to the musical-\/time date (in fraction of bar) of the point of index i. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classRational}{Rational}} \& \mbox{\hyperlink{group__segment_ga2c16ef8a681bf9fded1dba29c1a84342}{mduration}} (long i)
\begin{DoxyCompactList}\small\item\em return a reference to the musical-\/time duration (in fraction of bar) of the point of index i. \end{DoxyCompactList}\item 
long \mbox{\hyperlink{group__segment_gabb6224ab371e84d2048f3c9e2692d15d}{add\+\_\+back}} (\mbox{\hyperlink{classMusEvent}{Mus\+Event}} $\ast$e, double \mbox{\hyperlink{group__segment_ga7c26187b3e70ea62bd10b9b15284a99a}{rdate}}, double rdur, bool on, long \mbox{\hyperlink{group__segment_ga43310a16681e2241b20da4b68de9f35b}{link}}=M\+U\+S\+P\+O\+I\+N\+T\+R\+E\+F\+\_\+\+N\+U\+LL, \mbox{\hyperlink{classRational}{Rational}} \mbox{\hyperlink{group__segment_ga6fce03f54fe517cc9541ea446cd26a50}{mdate}}=\mbox{\hyperlink{group__general_gae862a9d955eb3154601efb64980ac24b}{M\+U\+S\+T\+I\+M\+E\+\_\+\+U\+N\+K\+N\+O\+WN}}, \mbox{\hyperlink{classRational}{Rational}} \mbox{\hyperlink{classInputSegment_aa5410aeef3d5c6a263424b252eb78511}{mduration}}=\mbox{\hyperlink{group__general_gae862a9d955eb3154601efb64980ac24b}{M\+U\+S\+T\+I\+M\+E\+\_\+\+U\+N\+K\+N\+O\+WN}})
\begin{DoxyCompactList}\small\item\em insert new timestamped muspoint created from the parameters, at the end of the segment. \end{DoxyCompactList}\item 
long {\bfseries add\+\_\+back} (const \mbox{\hyperlink{classMusPoint}{Mus\+Point}} \&)
\item 
long \mbox{\hyperlink{group__segment_gad44eb7379e181fc4295ee2514a568204}{add\+\_\+floating}} (\mbox{\hyperlink{classMusEvent}{Mus\+Event}} $\ast$e, double \mbox{\hyperlink{group__segment_ga7c26187b3e70ea62bd10b9b15284a99a}{rdate}}, double rdur, bool on, long \mbox{\hyperlink{group__segment_ga43310a16681e2241b20da4b68de9f35b}{link}}=M\+U\+S\+P\+O\+I\+N\+T\+R\+E\+F\+\_\+\+N\+U\+LL, \mbox{\hyperlink{classRational}{Rational}} \mbox{\hyperlink{group__segment_ga6fce03f54fe517cc9541ea446cd26a50}{mdate}}=\mbox{\hyperlink{group__general_gae862a9d955eb3154601efb64980ac24b}{M\+U\+S\+T\+I\+M\+E\+\_\+\+U\+N\+K\+N\+O\+WN}}, \mbox{\hyperlink{classRational}{Rational}} \mbox{\hyperlink{classInputSegment_aa5410aeef3d5c6a263424b252eb78511}{mduration}}=\mbox{\hyperlink{group__general_gae862a9d955eb3154601efb64980ac24b}{M\+U\+S\+T\+I\+M\+E\+\_\+\+U\+N\+K\+N\+O\+WN}})
\begin{DoxyCompactList}\small\item\em create new timestamped muspoint from the parameters, and add the the heap of floating points (not in segment). \end{DoxyCompactList}\item 
long {\bfseries add\+\_\+floating} (const \mbox{\hyperlink{classMusPoint}{Mus\+Point}} \&)
\item 
void \mbox{\hyperlink{group__segment_gae75db088893a7cfc719ec393e09d7ece}{close}} (double e)
\begin{DoxyCompactList}\small\item\em set end date. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classInputSegment_a2aa5d8948f3ac162a770bc84bb23ca2f}\label{classInputSegment_a2aa5d8948f3ac162a770bc84bb23ca2f}} 
bool \mbox{\hyperlink{classInputSegment_a2aa5d8948f3ac162a770bc84bb23ca2f}{quantized}} () const
\begin{DoxyCompactList}\small\item\em quantization has been applied at least once. \end{DoxyCompactList}\item 
{\footnotesize template$<$class P $>$ }\\void \mbox{\hyperlink{group__segment_ga42c65e4989c84fbce42115d8e7813f8e}{quantize}} (\mbox{\hyperlink{classAtable}{Atable}}$<$ P $>$ $\ast$table, const P \&p)
\begin{DoxyCompactList}\small\item\em set the musical time date and duration of events in this given input segment, according to the best run for p in given table. \end{DoxyCompactList}\item 
{\footnotesize template$<$class P $>$ }\\size\+\_\+t \mbox{\hyperlink{group__segment_gab4c42d088ce3d170b7899712789ab464}{quantizu}} (\mbox{\hyperlink{classAtable}{Atable}}$<$ P $>$ $\ast$table, const P \&p, size\+\_\+t b=0)
\begin{DoxyCompactList}\small\item\em set the musical time date and duration of events in this given input segment, according to the best run for p in given table, starting from point number b in interval. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__segment_ga2d78677ab3ea44ae91034c4e312e778c}{respell}} (int k=0)
\begin{DoxyCompactList}\small\item\em pitch spelling. unwindowed. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__segment_gac79787254008e05d9f54226d93dcb0cb}{respell}} (\mbox{\hyperlink{classRational}{Rational}} ws, int k=0)
\begin{DoxyCompactList}\small\item\em pitch spelling with a sliding window of given musical duration. \end{DoxyCompactList}\item 
virtual bool \mbox{\hyperlink{classInputSegment_a3989ef5c44913cb1896920916cdcfcf8}{has\+Type}} (std\+::string code) const
\begin{DoxyCompactList}\small\item\em return wether the segment has the type of the code. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__segment_ga623c2367191018ecac046e7e11f14976}{print}} (std\+::ostream \&) const
\begin{DoxyCompactList}\small\item\em print size to output stream. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classMusPoint}{Mus\+Point}} \& \mbox{\hyperlink{group__segment_ga2dbfcbf9664a10c1245e298b9257d5cd}{ncpoint}} (long i)
\begin{DoxyCompactList}\small\item\em same as point but not const. \end{DoxyCompactList}\item 
bool {\bfseries check\+\_\+index} (long i) const
\item 
void \mbox{\hyperlink{group__segment_ga43310a16681e2241b20da4b68de9f35b}{link}} (long i, long j)
\begin{DoxyCompactList}\small\item\em the event of index i is linked to the event of index j. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classInputSegment_ae5267be6a3c036290ee028d032b4c4fc}\label{classInputSegment_ae5267be6a3c036290ee028d032b4c4fc}} 
double \mbox{\hyperlink{classInputSegment_ae5267be6a3c036290ee028d032b4c4fc}{\+\_\+begin}}
\begin{DoxyCompactList}\small\item\em start date (in seconds) of segment. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classInputSegment_a1c6cb6bc0004bc8fa2a1e4667f861f3e}\label{classInputSegment_a1c6cb6bc0004bc8fa2a1e4667f861f3e}} 
double \mbox{\hyperlink{classInputSegment_a1c6cb6bc0004bc8fa2a1e4667f861f3e}{\+\_\+end}}
\begin{DoxyCompactList}\small\item\em start date (in seconds) of segment. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classInputSegment_addcc23fc9ea6a3cb342fd2960b5fbc78}\label{classInputSegment_addcc23fc9ea6a3cb342fd2960b5fbc78}} 
double \mbox{\hyperlink{classInputSegment_addcc23fc9ea6a3cb342fd2960b5fbc78}{\+\_\+len}}
\begin{DoxyCompactList}\small\item\em length (in seconds) of segment. \end{DoxyCompactList}\item 
\mbox{\hyperlink{classRational}{Rational}} \mbox{\hyperlink{classInputSegment_a0ab26fdbc02f67159a8f619254fa7440}{\+\_\+mduration}}
\begin{DoxyCompactList}\small\item\em length (in bars) of segment. \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{classMusPoint}{Mus\+Point}} $>$ \mbox{\hyperlink{classInputSegment_ac4494ab7de01a9b0f60cdcede78ac847}{\+\_\+events}}
\begin{DoxyCompactList}\small\item\em event list. \end{DoxyCompactList}\item 
std\+::vector$<$ \mbox{\hyperlink{classMusPoint}{Mus\+Point}} $>$ \mbox{\hyperlink{classInputSegment_a8f5be09886f96f15d6c82a2828bef194}{\+\_\+heap}}
\begin{DoxyCompactList}\small\item\em floating events. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Friends}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classInputSegment_ad79274ec4d86002559d8542afb80e5a7}\label{classInputSegment_ad79274ec4d86002559d8542afb80e5a7}} 
std\+::ostream \& \mbox{\hyperlink{classInputSegment_ad79274ec4d86002559d8542afb80e5a7}{operator$<$$<$}} (std\+::ostream \&, const \mbox{\hyperlink{classInputSegment}{Input\+Segment}} \&)
\begin{DoxyCompactList}\small\item\em write segment content to output stream. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
intermediate representation for input performance data (sequence of timestamped events). 

an input segment is made of\+:
\begin{DoxyItemize}
\item a time interval containing some timed events (muspoints), always sorted by increasing realtime date (vector of events).
\item a heap of floating points.
\end{DoxyItemize}

The links in points are indexes in the input segment, where an index is a unique identifier of a point in either of the two above structures.

The realtime duration of a linked point is the difference of realtime dates (between the link and the point). the realtime duration of a point without link (with unknown link) is zero.

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000022}{Todo}}]do the same think with musical time duration. 

suppr. samplestosec 

suppr. member \+\_\+res (resolution) \end{DoxyRefDesc}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classInputSegment_aa5410aeef3d5c6a263424b252eb78511}\label{classInputSegment_aa5410aeef3d5c6a263424b252eb78511}} 
\index{InputSegment@{InputSegment}!mduration@{mduration}}
\index{mduration@{mduration}!InputSegment@{InputSegment}}
\subsubsection{\texorpdfstring{mduration()}{mduration()}}
{\footnotesize\ttfamily \mbox{\hyperlink{classRational}{Rational}} Input\+Segment\+::mduration (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}}



musical total duration (in bars) of segment. 

will return M\+U\+S\+T\+I\+M\+E\+\_\+\+U\+N\+K\+N\+O\+WN if segment was not quantized. \mbox{\Hypertarget{classInputSegment_a3989ef5c44913cb1896920916cdcfcf8}\label{classInputSegment_a3989ef5c44913cb1896920916cdcfcf8}} 
\index{InputSegment@{InputSegment}!hasType@{hasType}}
\index{hasType@{hasType}!InputSegment@{InputSegment}}
\subsubsection{\texorpdfstring{hasType()}{hasType()}}
{\footnotesize\ttfamily virtual bool Input\+Segment\+::has\+Type (\begin{DoxyParamCaption}\item[{std\+::string}]{code }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [virtual]}}



return wether the segment has the type of the code. 

type \mbox{\hyperlink{classInputSegment}{Input\+Segment}}\+: plain \mbox{\hyperlink{classInputSegment}{Input\+Segment}} imported from M\+I\+DI file (or text) without filters. 

\subsection{Member Data Documentation}
\mbox{\Hypertarget{classInputSegment_a0ab26fdbc02f67159a8f619254fa7440}\label{classInputSegment_a0ab26fdbc02f67159a8f619254fa7440}} 
\index{InputSegment@{InputSegment}!\_mduration@{\_mduration}}
\index{\_mduration@{\_mduration}!InputSegment@{InputSegment}}
\subsubsection{\texorpdfstring{\_mduration}{\_mduration}}
{\footnotesize\ttfamily \mbox{\hyperlink{classRational}{Rational}} Input\+Segment\+::\+\_\+mduration\hspace{0.3cm}{\ttfamily [protected]}}



length (in bars) of segment. 

is set at quantization \mbox{\Hypertarget{classInputSegment_ac4494ab7de01a9b0f60cdcede78ac847}\label{classInputSegment_ac4494ab7de01a9b0f60cdcede78ac847}} 
\index{InputSegment@{InputSegment}!\_events@{\_events}}
\index{\_events@{\_events}!InputSegment@{InputSegment}}
\subsubsection{\texorpdfstring{\_events}{\_events}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{classMusPoint}{Mus\+Point}}$>$ Input\+Segment\+::\+\_\+events\hspace{0.3cm}{\ttfamily [protected]}}



event list. 

polymorphic (mono or poly) \mbox{\Hypertarget{classInputSegment_a8f5be09886f96f15d6c82a2828bef194}\label{classInputSegment_a8f5be09886f96f15d6c82a2828bef194}} 
\index{InputSegment@{InputSegment}!\_heap@{\_heap}}
\index{\_heap@{\_heap}!InputSegment@{InputSegment}}
\subsubsection{\texorpdfstring{\_heap}{\_heap}}
{\footnotesize\ttfamily std\+::vector$<$\mbox{\hyperlink{classMusPoint}{Mus\+Point}}$>$ Input\+Segment\+::\+\_\+heap\hspace{0.3cm}{\ttfamily [protected]}}



floating events. 

not in the list but can be linked by events on the list 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/segment/Input\+Segment.\+hpp\item 
src/segment/Input\+Segment.\+cpp\end{DoxyCompactItemize}
